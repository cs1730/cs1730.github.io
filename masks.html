<html>

  <head>
    <link rel="stylesheet" type="text/css" href="site.css">
    <script type="text/javascript" async
	    src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
      </script>
  </head>
  
  <body>
    
<h1>cs1730</h1>

<h2>Bit Masks</h2>

<h3>Preliminaries</h3>

<ul>
  <li><a href="http://en.cppreference.com/w/cpp/language/integer_literal">C++ Integer Literals</a></li>
  <li>DEITEL 10e 22.5 - Bitwise Operators</li>
</ul>

<h3>Tutorial</h3>

<p>In computer science, a <strong>mask</strong> is data that is used for bitwise operations, particularly in a bit field. Using a mask, multiple bits in a variable can be set either on, off or inverted from on to off (or vice versa) in a single bitwise operation.</p>

<p>A mask is just an integer with a special looking binary representation. You construct a mask by constructing the number. For example, let's say that we wanted to create a mask with the following binary:
<pre>
    0b0000'1111'0000'0000
</pre>
</p>

<p>We see that bits 0-7 (indexed starting from the right) are zero, bits 8-11 are one, and the remaining bits are zero. We can start by trying to create a number with four ones, then shifting them into place. Consider the following:
<pre>
    1 << 4              //   16 // 0b0000'0000'0001'0000
    (1 << 4) - 1        //   15 // 0b0000'0000'0000'1111
    ((1 << 4) - 1) << 4 //  240 // 0b0000'0000'1111'0000
    ((1 << 4) - 1) << 8 // 3840 // 0b0000'1111'0000'0000
</pre>
</p>

<p>To turn certain bits on, a mask and the bitwise OR operation can be used, following the principle that Y | 1 = 1 and Y | 0 = Y. Therefore, to make sure a bit is on, OR can be used with a 1. To leave a bit unchanged, OR is used with a 0.</p>

<p><strong>Example:</strong> Literal representations are given in binary, octal, decimal, and hexadecimal, respectively.
<pre>
    0b1001'0101'1010'0101      0112645      38309      0x95A5
  | 0b1111'0000'1111'0000    | 0170360    | 61680    | 0xF0F0
    ---------------------      -------      -----      ------
  = 0b1111'0101'1111'0101    = 0172765    = 62965    = 0xF5F5
</pre>
</p>

<p>To turn certain bits off, a mask and the bitwise AND operation can be used, following the principle that Y & 1 = Y and Y & 0 = 0. Therefore, to make sure a bit is off, AND can be used with a 0. To leave a bit unchanged, AND is used with a 1.</p>

<p><strong>Example:</strong> Literal representations are given in binary, octal, decimal, and hexadecimal, respectively.
<pre>
    0b1001'0101'1010'0101      0112645      38309      0x95A5
  & 0b1111'0000'1111'0000    & 0170360    & 61680    & 0xF0F0
    ---------------------      -------      -----      ------
  = 0b1001'0000'1010'0000    = 0110240    = 37024    = 0x90A0
</pre>
</p>

<hr/>

<p>Copyright &copy; 2016 Michael E. Cotterell &lt;mepcott@uga.edu&gt; <a href="https://creativecommons.org/licenses/by-nc-sa/2.0/">CC BY-NC-SA 2.0</a></p>

<hr/>

<p>The content and opinions expressed on this Web page do not necessarily reflect the views of nor are they endorsed by the University of Georgia or the University System of Georgia.</p>

</body>
</html>
